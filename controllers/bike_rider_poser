from controller import Supervisor

supervisor = Supervisor()
timestep = int(supervisor.getBasicTimeStep())

# Define the bike riding pose (in radians)
riding_pose = {
    'HEAD_JOINT': 0.2,                    # Slight forward tilt
    'LEFT_ARM_JOINT': 0.8,                # Bent forward
    'LEFT_LOWER_ARM_JOINT': 0.5,
    'LEFT_HAND_JOINT': 0.1,
    'RIGHT_ARM_JOINT': 0.8,
    'RIGHT_LOWER_ARM_JOINT': 0.5,
    'RIGHT_HAND_JOINT': 0.1,
    'LEFT_LEG_JOINT': 0.3,                # Knees bent in riding position
    'LEFT_LOWER_LEG_JOINT': 0.4,
    'LEFT_FOOT_JOINT': 0.0,
    'RIGHT_LEG_JOINT': 0.3,
    'RIGHT_LOWER_LEG_JOINT': 0.4,
    'RIGHT_FOOT_JOINT': 0.0,
}

# Apply the pose at startup
for joint_def, angle in riding_pose.items():
    joint_node = supervisor.getFromDef(joint_def)
    if joint_node:
        supervisor.setJointPosition(joint_node, angle)

# Optional: Keep the simulation running, or let the character stay in pose
while supervisor.step(timestep) != -1:
    pass
